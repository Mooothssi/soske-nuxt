exports.ids=[8],exports.modules={59:function(e,t,r){var content=r(76);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var o=r(3).default;e.exports.__inject__=function(e){o("6613de80",content,!0,e)}},75:function(e,t,r){"use strict";r.r(t);var o=r(59),n=r.n(o);for(var l in o)"default"!==l&&function(e){r.d(t,e,function(){return o[e]})}(l);t.default=n.a},76:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,".header[data-v-6bb2aeb3]{text-align:center!important;display:block!important}",""])},90:function(e,t,r){"use strict";r.r(t);var o={data(){return{fields:[{key:"id",label:"#"},{key:"name",label:"Problem Name"},{key:"category_id",label:"Category"},{key:"creator_id",label:"Author name"},{key:"date_created",label:"Date Submitted"}],problemName:"",authorName:this.$store.state.username,markdownSubmission:"",isBusy:!1,selectedTags:"",selectedDLevel:"1",removeTaskId:1,difficultyLevels:[{value:"1",text:"Straightforward"},{value:"2",text:"Intermediate"},{value:"3",text:"Challenging"}]}},methods:{requestDelete(){this.isBusy=!0,this.$axios.delete("/tasks/discard",{data:{id:this.removeTaskId}}).then(e=>{this.fetchTasks()})},onFileSelected(e){this.currentFile=e.target.files[0]},fetchTasks(){this.$axios.post("/tasks/get",{staff_mode:!0}).then(e=>{this.tasks=e.data,this.isBusy=!1})},onUpload(){this.isBusy=!0,""===this.authorName&&(this.authorName=this.$store.state.username),this.$axios.post("/tasks/submitMarkdown",{md_code:this.markdownSubmission,author:this.authorName,category:this.selectedCategory,prob_name:this.problemName,tags:this.selectedTags,difficulty:this.selectedDLevel}).then(e=>{this.fetchTasks()})}},computed:{showTable(){return!!this.tasks&&this.tasks.length>0}},async asyncData({store:e,redirect:t,$axios:r}){const{data:data}=await r.post("/tasks/get",{staff_mode:!0}),o=(await r.post("/tasks/getCategories")).data,n=o.map(e=>({value:e.route,text:e.name})),l={};for(const e of Object.entries(o))l[`${e.route}`]=e.name;return{tasks:data,categories:n,existingTags:l,selectedCategory:n[0].value}}},n=r(1);var component=Object(n.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container-fluid",[r("b-row",{staticClass:"header mt-2 mb-2"},[r("b-col",[r("h2",[e._v("Submit your problem")])])],1),e._v(" "),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form",{staticClass:"pl-5 pr-5",on:{submit:function(t){return t.preventDefault(),e.onUpload(t)}}},[r("b-form-group",{attrs:{id:"input-group-1",label:"Problem Name:","label-for":"input-1",description:"You may make up your own fancy name but in English."}},[r("b-form-input",{attrs:{id:"input-1",type:"text",required:""},model:{value:e.problemName,callback:function(t){e.problemName=t},expression:"problemName"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-1",label:"Author name:","label-for":"input-1",description:"This will be your SOSKE-ID by default."}},[r("b-form-input",{attrs:{id:"input-1",type:"text",required:""},model:{value:e.authorName,callback:function(t){e.authorName=t},expression:"authorName"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-3",label:"Category:","label-for":"input-3"}},[r("b-form-select",{attrs:{id:"input-3",options:e.categories,required:""},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1),e._v(" "),r("b-form-group",{attrs:{id:"input-group-3",label:"Difficulty:","label-for":"input-3"}},[r("b-form-select",{attrs:{id:"input-3",options:e.difficultyLevels,required:""},model:{value:e.selectedDLevel,callback:function(t){e.selectedDLevel=t},expression:"selectedDLevel"}})],1),e._v(" "),r("b-form-group",{attrs:{label:"Your problem markdown (.md)"}},[r("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"7",required:""},model:{value:e.markdownSubmission,callback:function(t){e.markdownSubmission=t},expression:"markdownSubmission"}}),e._v(" "),r("b-form-text",[e._v("\n        You can hide your solution code by inserting "),r("code",[e._v("::soske:begincode hidden=True")]),e._v(" next to the original "),r("code",[e._v("::soske:begincode")]),e._v(" block.\n      ")])],1),e._v(" "),r("b-form-group",{attrs:{label:"Tags:"}},[r("tags-input",{attrs:{"element-id":"tags","existing-tags":e.existingTags,typeahead:!0},model:{value:e.selectedTags,callback:function(t){e.selectedTags=t},expression:"selectedTags"}})],1),e._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),e._v(" "),r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1),e._v(" "),r("b-col",{staticClass:"pl-5 pr-5",attrs:{md:"6"}},[r("b-row",[r("p",[e._v("Your problem submissions:")]),e._v(" "),e.showTable?r("b-table",{staticClass:"mt-3",attrs:{items:e.tasks,busy:e.isBusy,fields:e.fields,outlined:""}},[r("div",{staticClass:"text-center text-danger my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[r("b-spinner",{staticClass:"align-middle"}),e._v(" "),r("strong",[e._v("Awaiting submission...")])],1)]):r("p",{staticClass:"text-center font-italic text-muted"},[e._v("You currently have no submissions")])],1),e._v(" "),r("b-row",[r("b-input-group",{attrs:{prepend:"Task #"}},[r("b-form-input",{attrs:{type:"number"},model:{value:e.removeTaskId,callback:function(t){e.removeTaskId=t},expression:"removeTaskId"}}),e._v(" "),r("b-input-group-append",[r("b-button",{attrs:{variant:"danger"},on:{click:e.requestDelete}},[e._v("Delete")])],1)],1)],1)],1)],1)],1)},[],!1,function(e){var t=r(75);t.__inject__&&t.__inject__(e)},"6bb2aeb3","793cc4c2");t.default=component.exports}};
//# sourceMappingURL=d305da7dc173b3987821.js.map